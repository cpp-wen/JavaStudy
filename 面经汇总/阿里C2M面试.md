简单面试  像是招人随便聊聊的先 20min

问题

1. 事务隔离级别
2. spring 使用原因
3. http tcp udp三者区别
4. b+树结构 索引底层是如何实现的
5. sleep和wait方法的区别
6. 乐观锁和悲观锁



c2m事业部是一个新的部门，相对来说比较好进



## 事务隔离级别

1. 未提交读 事务没有提交，数据对其他事务来说也是可以被看见的
2. 提交读  事务提交之后，其他事务才能看见数据修改
3. 可重复读  默认事务隔离级别 同一个事务多次读取同一个数据，结果应该是一样的
4. 串行化   给数据的读取就加锁，最高的隔离级别一般不使用

## sleep和wait的区别

sleep是Thread的方法，wait是object类的方法

sleep方法执行的时候，会释放cpu，但不会释放当前线程持有的锁，wait方法执行的时候，会释放锁同时也会让出cpu。

wait方法只能在synchronized方法块中被调用。因为每个对象内部有一个monitor对象里面保存着一个计数器。wait方法是要释放锁，那么这个对象肯定要先获得锁

执行wait方法的时候会爆出异常 

Exception in thread "main" java.lang.IllegalMonitorStateException





## 选择Spring的原因

1. IOC容器，不用手写单例，工厂，将对象的管理交给spring 容器去处理
2. AOP 面向切面编程，实现业务逻辑和系统服务之间的分离
3. mvc 优秀的框架，相对Struct2 来说更加更加优秀
4. 提供声明式的事务管理**todo** 



## http tcp udp 三者的区别

http是在应用层

tcp和udp是在传输层

**TCP**（Transmission Control Protocol）--提供**面向连接**的，**可靠的**数据传输服务。

**UDP**（User Datagram Protocol）--提供**无连接**的，尽最大努力的数据传输服务（**不保证数据传输的可靠性**）。

两者的区别

![TCP、UDP协议的区别](https://camo.githubusercontent.com/582cf0bd58f1b7859ff7696d0345200d133bee88/68747470733a2f2f6d792d626c6f672d746f2d7573652e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f323031392d31312f7463702d76732d7564702e6a7067)

udp是一种不可靠传输，数据传输的时候尽最大的努力实现数据传输，当数据传输到达时，无需返回确认信息。虽然udp提供的 是不可靠的传输，但是在某些实时应用上的确实有效的一种工作手段。如qq，直播等

tcp是可靠传输，建立连接之前需要通过三次握手，建立连接之后通过四次挥手释放连接。这些操作会增加系统的开销。所以tcp一般应用在持久连接的一些场景，如远程登录等。



## 索引底层是如何实现的





## 乐观锁和悲观锁

乐观锁 是一种乐观的思想，适用的场景是读多写少。当多个线程对共享变量读取的时候，系统并不会进行加锁，只有当线程要进行修改的时候，先读取数据当前的版本号判断是否被修改，然后进行加锁操作，如果失败就重复这个过程。本质是通过CAS操作。

悲观锁是一种悲观的思想，适用的场景是写多读少，对于每个线程的操作都会添加锁，造成效率低下，变成串行化。

































































