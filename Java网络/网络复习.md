## http tcp udp 三者的区别

http是在应用层

tcp和udp是在传输层

**TCP**（Transmission Control Protocol）--提供**面向连接**的，**可靠的**数据传输服务。

**UDP**（User Datagram Protocol）--提供**无连接**的，尽最大努力的数据传输服务（**不保证数据传输的可靠性**）。

两者的区别

![TCP、UDP协议的区别](https://camo.githubusercontent.com/582cf0bd58f1b7859ff7696d0345200d133bee88/68747470733a2f2f6d792d626c6f672d746f2d7573652e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f323031392d31312f7463702d76732d7564702e6a7067)

udp是一种不可靠传输，数据传输的时候尽最大的努力实现数据传输，当数据传输到达时，无需返回确认信息。虽然udp提供的 是不可靠的传输，但是在某些实时应用上的确实有效的一种工作手段。如qq，直播等

tcp是可靠传输，建立连接之前需要通过三次握手，建立连接之后通过四次挥手释放连接。这些操作会增加系统的开销。所以tcp一般应用在持久连接的一些场景，如远程登录等。



## 三次握手

1. 目的是确认双方的接收能力和发送能力是匹配的
2. 两次握手不行的原因是  有这样一个场景 A和B要建立一个连接，但是A发出的请求包1在网络中滞留了，超过一段时间A和B断开了连接后，B才收到了这个请求包1，这个时候B会认为A与它建立了一个连接，B开始等待A发来的资源这个时候就造成了资源的浪费。
3. 不需要四次握手的原因是完全可靠的通讯协议是不存在的，三次握手可以确定双方的状态，所以多次的握手也没有必要





## 四次挥手



1. 为了保证 A 发送的最后一个 ACK 报文段能够到达 B。这个 ACK 报文段有可能丢失，因而使处在 LAST-ACK 状态的 B 收不到对已发送的 FIN + ACK 报文段的确认。B 会超时重传这个 FIN+ACK 报文段，而 A 就能在 2MSL 时间内（超时 + 1MSL 传输）收到这个重传的 FIN+ACK 报文段。接着 A 重传一次确认，重新启动 2MSL 计时器。最后，A 和 B 都正常进入到 CLOSED 状态。如果 A 在 TIME-WAIT 状态不等待一段时间，而是在发送完 ACK 报文段后立即释放连接，那么就无法收到 B 重传的 FIN + ACK 报文段，因而也不会再发送一次确认报文段，这样，B 就无法按照正常步骤进入 CLOSED 状态。
2. 防止已失效的连接请求报文段出现在本连接中。A 在发送完最后一个 ACK 报文段后，再经过时间 2MSL，就可以使本连接持续的时间内所产生的所有报文段都从网络中消失。这样就可以使下一个连接中不会出现这种旧的连接请求报文段。

#### Time-wait的原因

Time-wait是指在四次挥手的中第三次挥手过程后，客户端启动一个2msl的一个定时器来对确保发送的ACK数据包到达服务器。若客户端在发送ACK数据包之后立马断开连接，数据包又在网络中丢失，使得服务器没有接收到到，会再次发送FIN数据包进行关闭确认，但是此时服务器已经关闭连接，使得服务器无法正常进入关闭状态。

简单的说2msl的用来确保服务器能够收到确认报文段。msl为最大报文段寿命。

## tcp 可靠靠什么来实现

1. 校验和
2. 确认重传
3. 拥塞控制 网络拥塞
4. 流量控制(流量窗口)  缓冲区



## 状态码

![状态码](https://camo.githubusercontent.com/08ea24912a75db4a06bfd17995ce464ee4b4af48/68747470733a2f2f6d792d626c6f672d746f2d7573652e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f323031392f372f2545372538412542362545362538302538312545372541302538312e706e67)

- **1XX 信息**

\1. 100 Continue ：表明到目前为止都很正常，客户端可以继续发送请求或者忽略这个响应。

- **2XX 成功**

\1. 200 OK

\2. 204 No Content ：请求已经成功处理，但是返回的响应报文不包含实体的主体部分。一般在只需要从客户端往服务器发送信息，而不需要返回数据时使用。

\3. 206 Partial Content ：表示客户端进行了范围请求，响应报文包含由 Content-Range 指定范围的实体内容。

- **3XX 重定向**

\1. 301 Moved Permanently ：永久性重定向；

\2. 302 Found ：临时性重定向；

\3. 303 See Other ：和 302 有着相同的功能，但是 303 明确要求客户端应该采用 GET 方法获取资源。

\4. 304 Not Modified ：如果请求报文首部包含一些条件，例如：If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since，如果不满足条件，则服务器会返回 304 状态码。

\5. 307 Temporary Redirect ：临时重定向，与 302 的含义类似，但是 307 要求浏览器不会把重定向请求的 POST 方法改成 GET 方法。

- **4XX 客户端错误**

\1. 400 Bad Request ：请求报文中存在语法错误。

\2. 401 Unauthorized ：该状态码表示发送的请求需要有认证信息（BASIC 认证、DIGEST 认证）。如果之前已进行过一次请求，则表示用户认证失败。

\3. 403 Forbidden ：请求被拒绝。

\4. 404 Not Found

- **5XX 服务器错误**

\1. 500 Internal Server Error ：服务器正在执行请求时发生错误；

\2. 503 Service Unavailable ：服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。

**28、HTTP 状态码 301 和 302 代表的是什么？****有什么区别？**

301，302 都是 HTTP 状态的编码，都代表着某个 URL 发生了转移。

- **区别：** 

301 redirect: 301 代表永久性转移（Permanently Moved）

302 redirect: 302 代表暂时性转移（Temporarily Moved）



## Http中GET和POST的区别

GET 和 POST 本质都是 HTTP 请求，只不过对它们的作用做了界定和适配，并且让他们适应各自的场景。

本质区别：GET 只是一次 HTTP请求，POST 先发请求头再发请求体，实际上是两次请求。

\1. 从功能上讲，GET 一般用来从服务器上获取资源，POST 一般用来更新服务器上的资源；

\2. 从 REST 服务角度上说，GET 是幂等的，即读取同一个资源，总是得到相同的数据，而 POST 不是幂等的，因为每次请求对资源的改变并不是相同的；进一步地，GET 不会改变服务器上的资源，而 POST 会对服务器资源进行改变；

\3. 从请求参数形式上看，GET 请求的数据会附在 URL 之后，即将请求数据放置在 HTTP 报文的 请求头 中，以 ? 分割 URL 和传输数据，参数之间以 & 相连。特别地，如果数据是英文字母/数字，原样发送；否则，会将其编码为 application/x-www-form-urlencoded MIME 字符串(如果是空格，转换为+，如果是中文/其他字符，则直接把字符串用 BASE64 加密，得出如：%E4%BD%A0%E5%A5%BD，其中 ％XX 中的 XX 为该符号以 16 进制表示的 ASCII)；而 POST 请求会把提交的数据则放置在是 HTTP 请求报文的 请求体 中；

\4. 就安全性而言，POST 的安全性要比 GET 的安全性高，因为 GET 请求提交的数据将明文出现在 URL 上，而且 POST 请求参数则被包装到请求体中，相对更安全；

\5. 从请求的大小看，GET 请求的长度受限于浏览器或服务器对 URL 长度的限制，允许发送的数据量比较小，而 POST 请求则是没有大小限制的。



## **HTTP 和 HTTPS 的区别？**

\1. 开销：HTTPS 协议需要到 CA 申请证书，一般免费证书很少，需要交费；

\2. 资源消耗：HTTP 是超文本传输协议，信息是明文传输，HTTPS 则是具有安全性的 ssl 加密传输协议，需要消耗更多的 CPU 和内存资源；

\3. 端口不同：HTTP 和 HTTPS 使用的是完全不同的连接方式，用的端口也不一样，前者是 80，后者是 443；

\4. 安全性：HTTP 的连接很简单，是无状态的；HTTPS 协议是由 TSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全。

----



## 推荐阅读

[详细说明TCP握手和回收](https://zhuanlan.zhihu.com/p/86426969?utm_source=wechat_session&utm_medium=social&utm_oi=596464246247264256)

